{"ast":null,"code":"import _asyncToGenerator from\"F:/mess-manager/mess_manager/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"F:/mess-manager/mess_manager/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"F:\\\\mess-manager\\\\mess_manager\\\\frontend\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useEffect,useState}from\"react\";import{useParams,useNavigate}from\"react-router\";import{getMessMenu,updateMessMenu}from\"../../actions/mess_actions\";import Message from\"../../components/Message\";import{useSelector,useDispatch}from\"react-redux\";import\"./ViewMess.css\";import Loader from\"../../components/Loader\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function UpdateMess(){var dispatch=useDispatch();var _useParams=useParams(),day=_useParams.day;var _useState=useState(),_useState2=_slicedToArray(_useState,2),menuFirst=_useState2[0],setMenuFirst=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),menuSecond=_useState4[0],setMenuSecond=_useState4[1];useEffect(function(){dispatch(getMessMenu());},[dispatch,useSelector]);var _useSelector=useSelector(function(state){return state.messMenu;}),messMenu=_useSelector.messMenu,loading=_useSelector.loading,error=_useSelector.error;var menu=messMenu.filter(function(item){return(item===null||item===void 0?void 0:item.day)===day;});var handleChange=function handleChange(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;if(name===\"firstTime\"){setMenuFirst(value);}else if(name===\"secondTime\"){setMenuSecond(value);}console.log({name:name,value:value});};var navigate=useNavigate();var submitHandler=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.next=3;return dispatch(updateMessMenu(day,{day:day,first_time:menuFirst,second_time:menuSecond}));case 3:navigate(-1);alert(\"Menu Updated\");case 5:case\"end\":return _context.stop();}}},_callee);}));return function submitHandler(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"section\",{id:\"tabs\",class:\"project-tab\",children:/*#__PURE__*/_jsx(\"div\",{class:\"container\",children:/*#__PURE__*/_jsx(\"div\",{class:\"col-md-12\",children:/*#__PURE__*/_jsx(\"div\",{class:\"tab-content\",id:\"nav-tabContent\",children:/*#__PURE__*/_jsx(\"div\",{class:\"tab-pane fade show active\",id:\"nav-home\",role:\"tabpanel\",\"aria-labelledby\":\"nav-home-tab\",children:loading?/*#__PURE__*/_jsx(Loader,{}):error?/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:error}):/*#__PURE__*/_jsxs(\"form\",{onSubmit:function onSubmit(e){return submitHandler(e);},children:[/*#__PURE__*/_jsxs(\"table\",{class:\"table\",cellspacing:\"0\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Day\"}),/*#__PURE__*/_jsx(\"th\",{children:\"First Time\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Second Time\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:menu.map(function(menu){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"#\",children:menu.day})}),/*#__PURE__*/_jsx(\"td\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"firstTime\",className:\"form-control\",placeholder:menu.first_time,value:menuFirst,onChange:function onChange(e){return handleChange(e);}})}),/*#__PURE__*/_jsx(\"td\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"secondTime\",className:\"form-control\",placeholder:menu.second_time,value:menuSecond,onChange:function onChange(e){return handleChange(e);}})})]},menu.id);})})]}),/*#__PURE__*/_jsx(\"div\",{class:\"row\",children:/*#__PURE__*/_jsx(\"div\",{class:\"col-md-12\",children:/*#__PURE__*/_jsx(\"button\",{class:\"btn btn-primary\",type:\"submit\",children:\"Save\"})})})]})})})})})});}export default UpdateMess;","map":{"version":3,"names":["React","useEffect","useState","useParams","useNavigate","getMessMenu","updateMessMenu","Message","useSelector","useDispatch","Loader","UpdateMess","dispatch","day","menuFirst","setMenuFirst","menuSecond","setMenuSecond","state","messMenu","loading","error","menu","filter","item","handleChange","e","target","name","value","console","log","navigate","submitHandler","preventDefault","first_time","second_time","alert","map","id"],"sources":["F:/mess-manager/mess_manager/frontend/src/Screens/admin/UpdateMess.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useParams, useNavigate } from \"react-router\";\r\n\r\nimport { getMessMenu, updateMessMenu } from \"../../actions/mess_actions\";\r\n\r\nimport Message from \"../../components/Message\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\n\r\nimport \"./ViewMess.css\";\r\nimport Loader from \"../../components/Loader\";\r\n\r\n\r\n\r\nfunction UpdateMess() {\r\n\r\n    const dispatch = useDispatch()\r\n    const { day } = useParams()\r\n\r\n    const [menuFirst, setMenuFirst] = useState()\r\n    const [menuSecond, setMenuSecond] = useState()\r\n    useEffect(() => {\r\n        dispatch(getMessMenu());\r\n    }, [dispatch, useSelector]);\r\n\r\n    const { messMenu, loading, error } = useSelector((state) => state.messMenu);\r\n    let menu = messMenu.filter(item => item?.day === day)\r\n\r\n    const handleChange = (e) => {\r\n        const { name, value } = e.target;\r\n        if (name === \"firstTime\") {\r\n            setMenuFirst(value)\r\n        } else if (name === \"secondTime\") {\r\n            setMenuSecond(value)\r\n        }\r\n\r\n        console.log({ name, value })\r\n    }\r\n\r\n    const navigate = useNavigate()\r\n    const submitHandler = async (e) => {\r\n        e.preventDefault();\r\n        await dispatch(updateMessMenu(day, {\r\n            day: day,\r\n            first_time: menuFirst,\r\n            second_time: menuSecond\r\n        }))\r\n\r\n        navigate(-1)\r\n        alert(\"Menu Updated\")\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n    return (\r\n        <section id=\"tabs\" class=\"project-tab\">\r\n            <div class=\"container\">\r\n\r\n\r\n\r\n\r\n\r\n                <div class=\"col-md-12\">\r\n                    <div class=\"tab-content\" id=\"nav-tabContent\">\r\n                        <div\r\n                            class=\"tab-pane fade show active\"\r\n                            id=\"nav-home\"\r\n                            role=\"tabpanel\"\r\n                            aria-labelledby=\"nav-home-tab\"\r\n                        >\r\n                            {loading ? <Loader /> : error ? <Message variant='danger'>{error}</Message>\r\n                                : (\r\n                                    <form onSubmit={(e) => submitHandler(e)}>\r\n\r\n                                        <table class=\"table\" cellspacing=\"0\">\r\n                                            <thead>\r\n                                                <tr>\r\n                                                    <th>Day</th>\r\n                                                    <th>First Time</th>\r\n                                                    <th>Second Time</th>\r\n                                                </tr>\r\n                                            </thead>\r\n\r\n                                            <tbody>\r\n                                                {menu.map((menu) => (\r\n\r\n                                                    <tr key={menu.id}>\r\n                                                        <td >\r\n                                                            <a href=\"#\">{menu.day}</a>\r\n                                                        </td>\r\n                                                        <td className=\"form-group\">\r\n                                                            <input type=\"text\" name=\"firstTime\" className=\"form-control\" placeholder={menu.first_time} value={menuFirst} onChange={(e) => handleChange(e)} />\r\n\r\n                                                        </td>\r\n                                                        <td className=\"form-group\">\r\n                                                            <input type=\"text\" name=\"secondTime\" className=\"form-control\" placeholder={menu.second_time} value={menuSecond} onChange={(e) => handleChange(e)} />\r\n\r\n                                                        </td>\r\n                                                    </tr>\r\n                                                ))}\r\n\r\n\r\n                                            </tbody>\r\n                                        </table>\r\n                                        <div class=\"row\">\r\n                                            <div class=\"col-md-12\">\r\n                                                <button class=\"btn btn-primary\" type=\"submit\">Save</button>\r\n                                            </div>\r\n                                        </div>\r\n                                    </form>\r\n                                )}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n        </section >\r\n    );\r\n}\r\n\r\nexport default UpdateMess;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}