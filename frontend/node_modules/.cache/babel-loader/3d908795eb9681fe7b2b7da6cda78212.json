{"ast":null,"code":"import _slicedToArray from\"F:/mess-manager/mess_manager/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";// for this month bill\nimport React,{useState,useEffect,useRef}from\"react\";import{useSelector,useDispatch}from\"react-redux\";import{getAttendance}from\"../../actions/attendance_actions\";import{useNavigate}from\"react-router-dom\";import{listUsers}from\"../../actions/user_actions\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function PreviousAttendance(){var dispatch=useDispatch();var navigate=useNavigate();var _useState=useState(),_useState2=_slicedToArray(_useState,2),studant=_useState2[0],setStudant=_useState2[1];var _useSelector=useSelector(function(state){return state.userLogin;}),userInfo=_useSelector.userInfo;var _useSelector2=useSelector(function(state){return state.getAttendance;}),attendance=_useSelector2.attendance,error=_useSelector2.error,loading=_useSelector2.loading;var _useSelector3=useSelector(function(state){return state.userList;}),users=_useSelector3.users;useEffect(function(){if(userInfo&&userInfo.isAdmin){dispatch(listUsers());dispatch(getAttendance());console.log(idToStudant(2));}else{navigate('./login');}},[navigate,dispatch,userInfo]);function idToStudant(id){var name=users===null||users===void 0?void 0:users.filter(function(user){return user.id===id;}).username;setStudant(name);}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{class:\"h1 text-center text-dark\",id:\"pageHeaderTitle\",children:[\"Previous Attendance  of  \",/*#__PURE__*/_jsx(\"code\",{children:\"MM-YYYY\"})]}),/*#__PURE__*/_jsxs(\"table\",{class:\"table table-striped\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"#\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Studants\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"First Time\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Second Time\"})]})}),attendance===null||attendance===void 0?void 0:attendance.map(function(item){return/*#__PURE__*/_jsx(\"tbody\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"row\",children:item.id},item.id),/*#__PURE__*/_jsx(\"td\",{children:studant}),/*#__PURE__*/_jsx(\"td\",{children:item.first_time}),/*#__PURE__*/_jsx(\"td\",{children:item.second_time})]})});})]})]});}export default PreviousAttendance;","map":{"version":3,"names":["React","useState","useEffect","useRef","useSelector","useDispatch","getAttendance","useNavigate","listUsers","PreviousAttendance","dispatch","navigate","studant","setStudant","state","userLogin","userInfo","attendance","error","loading","userList","users","isAdmin","console","log","idToStudant","id","name","filter","user","username","map","item","first_time","second_time"],"sources":["F:/mess-manager/mess_manager/frontend/src/Screens/admin/PreviousAttendance.js"],"sourcesContent":["// for this month bill\r\nimport React, { useState, useEffect, useRef } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { getAttendance } from \"../../actions/attendance_actions\"\r\nimport { useNavigate } from \"react-router-dom\"\r\nimport { listUsers } from \"../../actions/user_actions\";\r\n\r\n\r\nfunction PreviousAttendance() {\r\n    const dispatch = useDispatch();\r\n    const navigate = useNavigate();\r\n    const [studant, setStudant] = useState()\r\n\r\n    const { userInfo } = useSelector((state) => state.userLogin);\r\n\r\n    const { attendance, error, loading } = useSelector(state => state.getAttendance)\r\n    const { users } = useSelector(state => state.userList)\r\n    useEffect(() => {\r\n        if (userInfo && userInfo.isAdmin) {\r\n            dispatch(listUsers())\r\n            dispatch(getAttendance())\r\n            console.log(idToStudant(2))\r\n\r\n        } else {\r\n            navigate('./login')\r\n        }\r\n    }, [navigate, dispatch, userInfo])\r\n\r\n    function idToStudant(id) {\r\n\r\n        const name = users?.filter(user => user.id === id).username\r\n        setStudant(name)\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    return (\r\n        <div>\r\n            <div class=\"h1 text-center text-dark\" id=\"pageHeaderTitle\">\r\n                Previous Attendance  of  <code>MM-YYYY</code>\r\n            </div>\r\n\r\n\r\n\r\n            {/* boostrap table for all the users , room no , current bill added */}\r\n            <table class=\"table table-striped\">\r\n                <thead>\r\n                    <tr>\r\n                        <th scope=\"col\">#</th>\r\n                        <th scope=\"col\">Studants</th>\r\n                        <th scope=\"col\">First Time</th>\r\n                        <th scope=\"col\">Second Time</th>\r\n                    </tr>\r\n                </thead>\r\n                {attendance?.map(item => (\r\n\r\n\r\n                    <tbody>\r\n                        <tr>\r\n                            <th key={item.id} scope=\"row\">{item.id}</th>\r\n                            <td>{studant}</td>\r\n                            <td>{item.first_time}</td>\r\n                            <td>{item.second_time}</td>\r\n                        </tr>\r\n                    </tbody>\r\n                ))}\r\n            </table>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default PreviousAttendance;\r\n"],"mappings":"2HAAA;AACA,MAAOA,MAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,CAAqCC,MAArC,KAAmD,OAAnD,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,aAAT,KAA8B,kCAA9B,CACA,OAASC,WAAT,KAA4B,kBAA5B,CACA,OAASC,SAAT,KAA0B,4BAA1B,C,wFAGA,QAASC,mBAAT,EAA8B,CAC1B,GAAMC,SAAQ,CAAGL,WAAW,EAA5B,CACA,GAAMM,SAAQ,CAAGJ,WAAW,EAA5B,CACA,cAA8BN,QAAQ,EAAtC,wCAAOW,OAAP,eAAgBC,UAAhB,eAEA,iBAAqBT,WAAW,CAAC,SAACU,KAAD,QAAWA,MAAK,CAACC,SAAjB,EAAD,CAAhC,CAAQC,QAAR,cAAQA,QAAR,CAEA,kBAAuCZ,WAAW,CAAC,SAAAU,KAAK,QAAIA,MAAK,CAACR,aAAV,EAAN,CAAlD,CAAQW,UAAR,eAAQA,UAAR,CAAoBC,KAApB,eAAoBA,KAApB,CAA2BC,OAA3B,eAA2BA,OAA3B,CACA,kBAAkBf,WAAW,CAAC,SAAAU,KAAK,QAAIA,MAAK,CAACM,QAAV,EAAN,CAA7B,CAAQC,KAAR,eAAQA,KAAR,CACAnB,SAAS,CAAC,UAAM,CACZ,GAAIc,QAAQ,EAAIA,QAAQ,CAACM,OAAzB,CAAkC,CAC9BZ,QAAQ,CAACF,SAAS,EAAV,CAAR,CACAE,QAAQ,CAACJ,aAAa,EAAd,CAAR,CACAiB,OAAO,CAACC,GAAR,CAAYC,WAAW,CAAC,CAAD,CAAvB,EAEH,CALD,IAKO,CACHd,QAAQ,CAAC,SAAD,CAAR,CACH,CACJ,CATQ,CASN,CAACA,QAAD,CAAWD,QAAX,CAAqBM,QAArB,CATM,CAAT,CAWA,QAASS,YAAT,CAAqBC,EAArB,CAAyB,CAErB,GAAMC,KAAI,CAAGN,KAAH,SAAGA,KAAH,iBAAGA,KAAK,CAAEO,MAAP,CAAc,SAAAC,IAAI,QAAIA,KAAI,CAACH,EAAL,GAAYA,EAAhB,EAAlB,EAAsCI,QAAnD,CACAjB,UAAU,CAACc,IAAD,CAAV,CAGH,CAMD,mBACI,oCACI,aAAK,KAAK,CAAC,0BAAX,CAAsC,EAAE,CAAC,iBAAzC,oDAC6B,iCAD7B,GADJ,cAQI,eAAO,KAAK,CAAC,qBAAb,wBACI,oCACI,mCACI,WAAI,KAAK,CAAC,KAAV,eADJ,cAEI,WAAI,KAAK,CAAC,KAAV,sBAFJ,cAGI,WAAI,KAAK,CAAC,KAAV,wBAHJ,cAII,WAAI,KAAK,CAAC,KAAV,yBAJJ,GADJ,EADJ,CASKV,UATL,SASKA,UATL,iBASKA,UAAU,CAAEc,GAAZ,CAAgB,SAAAC,IAAI,qBAGjB,oCACI,mCACI,WAAkB,KAAK,CAAC,KAAxB,UAA+BA,IAAI,CAACN,EAApC,EAASM,IAAI,CAACN,EAAd,CADJ,cAEI,oBAAKd,OAAL,EAFJ,cAGI,oBAAKoB,IAAI,CAACC,UAAV,EAHJ,cAII,oBAAKD,IAAI,CAACE,WAAV,EAJJ,GADJ,EAHiB,EAApB,CATL,GARJ,GADJ,CAiCH,CAED,cAAezB,mBAAf"},"metadata":{},"sourceType":"module"}