{"ast":null,"code":"import _slicedToArray from\"F:/mess-manager/mess_manager/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import{getExpensesPerMonth}from'../../../actions/expenses_actions';import Loader from\"../../../components/Loader\";import Message from\"../../../components/Message\";import ConvertToMonth from'../../../components/ConvertToMonth';import{useDispatch,useSelector}from'react-redux';import{useEffect,useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function MonthlyExpenses(){var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.getExpensesPerMonth;}),expensesPerMonth=_useSelector.expensesPerMonth,loading=_useSelector.loading,success=_useSelector.success;useEffect(function(){dispatch(getExpensesPerMonth(date.substring(5,7)));console.log(date.substring(5,7));console.log(expensesPerMonth);},[dispatch]);var today=new Date().toISOString().substring(0,7);var _useState=useState(today),_useState2=_slicedToArray(_useState,2),date=_useState2[0],setDate=_useState2[1];return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{class:\"h1 text-center text-dark\",id:\"expensesPageHeaderTitle\",children:[\"Get Expenses of \",/*#__PURE__*/_jsx(\"h4\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"month\",id:\"date\",value:date,onChange:function onChange(e){return setDate(e.target.value);},max:today})})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"table\",{class:\"table table-striped table-hover\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"#\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Date\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Total Attendances\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Expenses(PKR)\"})]})}),expensesPerMonth===null||expensesPerMonth===void 0?void 0:expensesPerMonth.map(function(item){/*#__PURE__*/_jsx(\"tbody\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"row\",children:item.id}),/*#__PURE__*/_jsx(\"td\",{children:item.date}),/*#__PURE__*/_jsx(\"td\",{children:item.total_attendances}),/*#__PURE__*/_jsx(\"td\",{children:item.expenses_per_day})]},item.id)});}),/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"#\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Total Expenses\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"row\",children:\"1\"}),/*#__PURE__*/_jsx(\"td\",{scope:\"row\",children:\"500000\"})]})})]})})]})});}","map":{"version":3,"names":["React","getExpensesPerMonth","Loader","Message","ConvertToMonth","useDispatch","useSelector","useEffect","useState","MonthlyExpenses","dispatch","state","expensesPerMonth","loading","success","date","substring","console","log","today","Date","toISOString","setDate","e","target","value","map","item","id","total_attendances","expenses_per_day"],"sources":["F:/mess-manager/mess_manager/frontend/src/Screens/admin/expenses/MonthlyExpenses.js"],"sourcesContent":["import React from 'react'\r\nimport { getExpensesPerMonth } from '../../../actions/expenses_actions'\r\nimport Loader from \"../../../components/Loader\";\r\nimport Message from \"../../../components/Message\";\r\nimport ConvertToMonth from '../../../components/ConvertToMonth';\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { useEffect, useState } from 'react';\r\n\r\nexport default function MonthlyExpenses() {\r\n    const dispatch = useDispatch();\r\n\r\n    const { expensesPerMonth, loading, success } = useSelector(state => state.getExpensesPerMonth)\r\n\r\n    useEffect(\r\n        () => {\r\n            dispatch(getExpensesPerMonth(date.substring(5, 7)))\r\n\r\n            console.log(date.substring(5, 7))\r\n\r\n            console.log(expensesPerMonth)\r\n\r\n        }, [dispatch])\r\n\r\n\r\n    const today = new Date().toISOString().substring(0, 7);\r\n    const [date, setDate] = useState(today)\r\n\r\n    return (\r\n        <div className='container'>\r\n            <div >\r\n                <div class=\"h1 text-center text-dark\" id=\"expensesPageHeaderTitle\">\r\n                    Get Expenses of <h4><input type=\"month\" id=\"date\" value={date} onChange={(e) => setDate(e.target.value)} max={today} /></h4>\r\n                </div>\r\n                {/* <Downloader htmlInputId={`expensesPageHeaderTitle`} name={\"Expenses-sheet\"} /> */}\r\n                <div >\r\n\r\n\r\n                    <table class=\"table table-striped table-hover\">\r\n                        <thead>\r\n                            <tr>\r\n                                <th scope=\"col\">#</th>\r\n                                <th scope=\"col\">Date</th>\r\n                                <th scope=\"col\">Total Attendances</th>\r\n                                <th scope=\"col\">Expenses(PKR)</th>\r\n                            </tr>\r\n                        </thead>\r\n\r\n                        {expensesPerMonth?.map(item => {\r\n\r\n                            <tbody>\r\n                                <tr key={item.id}>\r\n                                    <th scope=\"row\">{item.id}</th>\r\n                                    <td>{item.date}</td>\r\n                                    <td>{item.total_attendances}</td>\r\n                                    <td>{item.expenses_per_day}</td>\r\n                                </tr>\r\n                            </tbody>\r\n\r\n                        })}\r\n\r\n\r\n                        <thead>\r\n                            <tr>\r\n                                <th scope=\"col\">#</th>\r\n                                <th scope=\"col\">Total Expenses</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr>\r\n                                <th scope=\"row\">1</th>\r\n                                <td scope=\"row\" >500000</td>\r\n                            </tr>\r\n\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div >\r\n\r\n\r\n\r\n\r\n        </div >\r\n    )\r\n}\r\n"],"mappings":"2HAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,OAASC,mBAAT,KAAoC,mCAApC,CACA,MAAOC,OAAP,KAAmB,4BAAnB,CACA,MAAOC,QAAP,KAAoB,6BAApB,CACA,MAAOC,eAAP,KAA2B,oCAA3B,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,SAAT,CAAoBC,QAApB,KAAoC,OAApC,C,wFAEA,cAAe,SAASC,gBAAT,EAA2B,CACtC,GAAMC,SAAQ,CAAGL,WAAW,EAA5B,CAEA,iBAA+CC,WAAW,CAAC,SAAAK,KAAK,QAAIA,MAAK,CAACV,mBAAV,EAAN,CAA1D,CAAQW,gBAAR,cAAQA,gBAAR,CAA0BC,OAA1B,cAA0BA,OAA1B,CAAmCC,OAAnC,cAAmCA,OAAnC,CAEAP,SAAS,CACL,UAAM,CACFG,QAAQ,CAACT,mBAAmB,CAACc,IAAI,CAACC,SAAL,CAAe,CAAf,CAAkB,CAAlB,CAAD,CAApB,CAAR,CAEAC,OAAO,CAACC,GAAR,CAAYH,IAAI,CAACC,SAAL,CAAe,CAAf,CAAkB,CAAlB,CAAZ,EAEAC,OAAO,CAACC,GAAR,CAAYN,gBAAZ,EAEH,CARI,CAQF,CAACF,QAAD,CARE,CAAT,CAWA,GAAMS,MAAK,CAAG,GAAIC,KAAJ,GAAWC,WAAX,GAAyBL,SAAzB,CAAmC,CAAnC,CAAsC,CAAtC,CAAd,CACA,cAAwBR,QAAQ,CAACW,KAAD,CAAhC,wCAAOJ,IAAP,eAAaO,OAAb,eAEA,mBACI,YAAK,SAAS,CAAC,WAAf,uBACI,oCACI,aAAK,KAAK,CAAC,0BAAX,CAAsC,EAAE,CAAC,yBAAzC,2CACoB,iCAAI,cAAO,IAAI,CAAC,OAAZ,CAAoB,EAAE,CAAC,MAAvB,CAA8B,KAAK,CAAEP,IAArC,CAA2C,QAAQ,CAAE,kBAACQ,CAAD,QAAOD,QAAO,CAACC,CAAC,CAACC,MAAF,CAASC,KAAV,CAAd,EAArD,CAAqF,GAAG,CAAEN,KAA1F,EAAJ,EADpB,GADJ,cAKI,kCAGI,eAAO,KAAK,CAAC,iCAAb,wBACI,oCACI,mCACI,WAAI,KAAK,CAAC,KAAV,eADJ,cAEI,WAAI,KAAK,CAAC,KAAV,kBAFJ,cAGI,WAAI,KAAK,CAAC,KAAV,+BAHJ,cAII,WAAI,KAAK,CAAC,KAAV,2BAJJ,GADJ,EADJ,CAUKP,gBAVL,SAUKA,gBAVL,iBAUKA,gBAAgB,CAAEc,GAAlB,CAAsB,SAAAC,IAAI,CAAI,CAE3B,iDACI,mCACI,WAAI,KAAK,CAAC,KAAV,UAAiBA,IAAI,CAACC,EAAtB,EADJ,cAEI,oBAAKD,IAAI,CAACZ,IAAV,EAFJ,cAGI,oBAAKY,IAAI,CAACE,iBAAV,EAHJ,cAII,oBAAKF,IAAI,CAACG,gBAAV,EAJJ,GAASH,IAAI,CAACC,EAAd,CADJ,GASH,CAXA,CAVL,cAwBI,oCACI,mCACI,WAAI,KAAK,CAAC,KAAV,eADJ,cAEI,WAAI,KAAK,CAAC,KAAV,4BAFJ,GADJ,EAxBJ,cA8BI,oCACI,mCACI,WAAI,KAAK,CAAC,KAAV,eADJ,cAEI,WAAI,KAAK,CAAC,KAAV,oBAFJ,GADJ,EA9BJ,GAHJ,EALJ,GADJ,EADJ,CAwDH"},"metadata":{},"sourceType":"module"}