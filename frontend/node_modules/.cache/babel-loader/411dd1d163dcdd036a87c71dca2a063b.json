{"ast":null,"code":"var _jsxFileName = \"F:\\\\mess-manager\\\\mess_manager\\\\frontend\\\\src\\\\Screens\\\\admin\\\\attendances\\\\MonthlyAttendance.js\",\n    _s = $RefreshSig$();\n\nimport AttendanceSheet from './AttendanceSheet';\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { getAttendance } from \"../../../actions/attendance_actions\";\nimport { useNavigate } from \"react-router-dom\";\nimport { listUsers } from \"../../../actions/user_actions\";\nimport ConvertToMonth from '../../../components/ConvertToMonth';\nimport DailyAttendance from './DailyAttendance';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction MonthlyAttendance() {\n  _s();\n\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const {\n    userInfo\n  } = useSelector(state => state.userLogin);\n  const {\n    attendance,\n    error,\n    loading\n  } = useSelector(state => state.getAttendance);\n  const {\n    users\n  } = useSelector(state => state.userList);\n  const monthDateList = attendance === null || attendance === void 0 ? void 0 : attendance.map(item => Number(item.date.split(\"-\")[1])); //[06,06,06]\n\n  const monthDateSet = [...new Set(monthDateList)];\n  useEffect(() => {\n    if (userInfo && userInfo.isAdmin) {\n      dispatch(listUsers());\n      dispatch(getAttendance());\n    } else {\n      navigate('./login');\n    }\n  }, [navigate, dispatch, userInfo]);\n\n  const filteredAttendance = number => attendance.filter(item => Number(item.date.split(\"-\")[1]) === number);\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: monthDateSet.map(item => /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"h1 text-center text-dark\",\n        id: \"pageHeaderTitle\",\n        children: [\"Attendance of \", /*#__PURE__*/_jsxDEV(\"code\", {\n          children: /*#__PURE__*/_jsxDEV(ConvertToMonth, {\n            number: item\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 40,\n            columnNumber: 45\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 39\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(DailyAttendance, {\n        month: item,\n        filteredMonthlyAttendance: filteredAttendance(item)\n      }, item, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 9\n  }, this);\n}\n\n_s(MonthlyAttendance, \"IdZD4vNWWZyhNDUHQdhvvZsISbs=\", false, function () {\n  return [useDispatch, useNavigate, useSelector, useSelector, useSelector];\n});\n\n_c = MonthlyAttendance;\nexport default MonthlyAttendance;\n\nvar _c;\n\n$RefreshReg$(_c, \"MonthlyAttendance\");","map":{"version":3,"names":["AttendanceSheet","React","useState","useEffect","useRef","useSelector","useDispatch","getAttendance","useNavigate","listUsers","ConvertToMonth","DailyAttendance","MonthlyAttendance","dispatch","navigate","userInfo","state","userLogin","attendance","error","loading","users","userList","monthDateList","map","item","Number","date","split","monthDateSet","Set","isAdmin","filteredAttendance","number","filter"],"sources":["F:/mess-manager/mess_manager/frontend/src/Screens/admin/attendances/MonthlyAttendance.js"],"sourcesContent":["import AttendanceSheet from './AttendanceSheet'\r\nimport React, { useState, useEffect, useRef } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { getAttendance } from \"../../../actions/attendance_actions\"\r\nimport { useNavigate } from \"react-router-dom\"\r\nimport { listUsers } from \"../../../actions/user_actions\";\r\nimport ConvertToMonth from '../../../components/ConvertToMonth';\r\nimport DailyAttendance from './DailyAttendance'\r\n\r\nfunction MonthlyAttendance() {\r\n\r\n    const dispatch = useDispatch();\r\n    const navigate = useNavigate();\r\n\r\n\r\n    const { userInfo } = useSelector((state) => state.userLogin);\r\n\r\n    const { attendance, error, loading } = useSelector(state => state.getAttendance)\r\n    const { users } = useSelector(state => state.userList)\r\n    const monthDateList = attendance?.map(item => Number((item.date).split(\"-\")[1])) //[06,06,06]\r\n    const monthDateSet = [...new Set(monthDateList)]\r\n\r\n    useEffect(() => {\r\n        if (userInfo && userInfo.isAdmin) {\r\n            dispatch(listUsers())\r\n            dispatch(getAttendance())\r\n        } else {\r\n            navigate('./login')\r\n        }\r\n    }, [navigate, dispatch, userInfo])\r\n\r\n    const filteredAttendance = (number) => attendance.filter(item => Number((item.date).split(\"-\")[1]) === number)\r\n\r\n\r\n    return (\r\n        <div className='container'>\r\n            {monthDateSet.map(item => (\r\n                <>\r\n                    <div class=\"h1 text-center text-dark\" id=\"pageHeaderTitle\">\r\n                        Attendance of <code><ConvertToMonth number={(item)} /></code>\r\n                    </div>\r\n\r\n                    <DailyAttendance key={item} month={item} filteredMonthlyAttendance={filteredAttendance(item)} />\r\n                </>\r\n            ))\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MonthlyAttendance\r\n"],"mappings":";;;AAAA,OAAOA,eAAP,MAA4B,mBAA5B;AACA,OAAOC,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,MAArC,QAAmD,OAAnD;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,aAAT,QAA8B,qCAA9B;AACA,SAASC,WAAT,QAA4B,kBAA5B;AACA,SAASC,SAAT,QAA0B,+BAA1B;AACA,OAAOC,cAAP,MAA2B,oCAA3B;AACA,OAAOC,eAAP,MAA4B,mBAA5B;;;;AAEA,SAASC,iBAAT,GAA6B;EAAA;;EAEzB,MAAMC,QAAQ,GAAGP,WAAW,EAA5B;EACA,MAAMQ,QAAQ,GAAGN,WAAW,EAA5B;EAGA,MAAM;IAAEO;EAAF,IAAeV,WAAW,CAAEW,KAAD,IAAWA,KAAK,CAACC,SAAlB,CAAhC;EAEA,MAAM;IAAEC,UAAF;IAAcC,KAAd;IAAqBC;EAArB,IAAiCf,WAAW,CAACW,KAAK,IAAIA,KAAK,CAACT,aAAhB,CAAlD;EACA,MAAM;IAAEc;EAAF,IAAYhB,WAAW,CAACW,KAAK,IAAIA,KAAK,CAACM,QAAhB,CAA7B;EACA,MAAMC,aAAa,GAAGL,UAAH,aAAGA,UAAH,uBAAGA,UAAU,CAAEM,GAAZ,CAAgBC,IAAI,IAAIC,MAAM,CAAED,IAAI,CAACE,IAAN,CAAYC,KAAZ,CAAkB,GAAlB,EAAuB,CAAvB,CAAD,CAA9B,CAAtB,CAVyB,CAUwD;;EACjF,MAAMC,YAAY,GAAG,CAAC,GAAG,IAAIC,GAAJ,CAAQP,aAAR,CAAJ,CAArB;EAEApB,SAAS,CAAC,MAAM;IACZ,IAAIY,QAAQ,IAAIA,QAAQ,CAACgB,OAAzB,EAAkC;MAC9BlB,QAAQ,CAACJ,SAAS,EAAV,CAAR;MACAI,QAAQ,CAACN,aAAa,EAAd,CAAR;IACH,CAHD,MAGO;MACHO,QAAQ,CAAC,SAAD,CAAR;IACH;EACJ,CAPQ,EAON,CAACA,QAAD,EAAWD,QAAX,EAAqBE,QAArB,CAPM,CAAT;;EASA,MAAMiB,kBAAkB,GAAIC,MAAD,IAAYf,UAAU,CAACgB,MAAX,CAAkBT,IAAI,IAAIC,MAAM,CAAED,IAAI,CAACE,IAAN,CAAYC,KAAZ,CAAkB,GAAlB,EAAuB,CAAvB,CAAD,CAAN,KAAsCK,MAAhE,CAAvC;;EAGA,oBACI;IAAK,SAAS,EAAC,WAAf;IAAA,UACKJ,YAAY,CAACL,GAAb,CAAiBC,IAAI,iBAClB;MAAA,wBACI;QAAK,KAAK,EAAC,0BAAX;QAAsC,EAAE,EAAC,iBAAzC;QAAA,0CACkB;UAAA,uBAAM,QAAC,cAAD;YAAgB,MAAM,EAAGA;UAAzB;YAAA;YAAA;YAAA;UAAA;QAAN;UAAA;UAAA;UAAA;QAAA,QADlB;MAAA;QAAA;QAAA;QAAA;MAAA,QADJ,eAKI,QAAC,eAAD;QAA4B,KAAK,EAAEA,IAAnC;QAAyC,yBAAyB,EAAEO,kBAAkB,CAACP,IAAD;MAAtF,GAAsBA,IAAtB;QAAA;QAAA;QAAA;MAAA,QALJ;IAAA,gBADH;EADL;IAAA;IAAA;IAAA;EAAA,QADJ;AAcH;;GAvCQb,iB;UAEYN,W,EACAE,W,EAGIH,W,EAEkBA,W,EACrBA,W;;;KATbO,iB;AAyCT,eAAeA,iBAAf"},"metadata":{},"sourceType":"module"}