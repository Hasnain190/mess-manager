{"ast":null,"code":"import Button from\"../../components/Button\";import{listUsers,deleteUser}from\"../../actions/user_actions\";import React,{useState,useEffect}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import Loader from\"../../components/Loader\";import Message from\"../../components/Message\";import{Link,useLocation,useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function MarkAttendance(){var dispatch=useDispatch();var navigate=useNavigate();var _useSelector=useSelector(function(state){return state.userList;}),users=_useSelector.users,loading=_useSelector.loading,error=_useSelector.error;var today=new Date().toISOString().substr(0,10);var _useSelector2=useSelector(function(state){return state.userLogin;}),userInfo=_useSelector2.userInfo;useEffect(function(){if(userInfo&&userInfo.isAdmin){dispatch(listUsers());}else{navigate(\"/login\");}},[dispatch,userInfo,navigate]);return/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-12 text-dark\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Mark Attendance\"}),\" for \",/*#__PURE__*/_jsx(\"h4\",{children:today}),\"'s meal\"]})}),loading?/*#__PURE__*/_jsx(Loader,{}):error?/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:error}):/*#__PURE__*/_jsxs(\"table\",{className:\"table table-bordered\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"#\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Room no.\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"First Time\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Second Time\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:users.map(function(user){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"row\",children:\"1\"}),/*#__PURE__*/_jsx(\"td\",{children:user.username}),/*#__PURE__*/_jsx(\"td\",{children:user.room}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Button,{})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Button,{})})]},user.id);})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-12 text-dark\",children:/*#__PURE__*/_jsxs(\"h3\",{children:[today,\"'s totals \"]})})}),/*#__PURE__*/_jsxs(\"table\",{className:\"table table-bordered\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"#\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Total Members\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Total Absentees\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Total Doubles\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"row\",children:\"1\"}),/*#__PURE__*/_jsx(\"td\",{children:users===null||users===void 0?void 0:users.length}),/*#__PURE__*/_jsx(\"td\",{children:\"2\"}),/*#__PURE__*/_jsx(\"td\",{children:\"1\"})]})})]})]});}export default MarkAttendance;","map":{"version":3,"names":["Button","listUsers","deleteUser","React","useState","useEffect","useDispatch","useSelector","Loader","Message","Link","useLocation","useNavigate","MarkAttendance","dispatch","navigate","state","userList","users","loading","error","today","Date","toISOString","substr","userLogin","userInfo","isAdmin","map","user","username","room","id","length"],"sources":["F:/mess-manager/mess_manager/frontend/src/Screens/admin/markAttendance.js"],"sourcesContent":["\r\nimport Button from \"../../components/Button\";\r\nimport { listUsers, deleteUser } from \"../../actions/user_actions\";\r\nimport React, { useState, useEffect } from \"react\";\r\n\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport Loader from \"../../components/Loader\";\r\nimport Message from \"../../components/Message\";\r\nimport { Link, useLocation, useNavigate } from \"react-router-dom\";\r\n\r\n\r\n\r\n\r\n\r\nfunction MarkAttendance() {\r\n\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  const { users, loading, error } = useSelector((state) => state.userList);\r\n  const today = new Date().toISOString().substr(0, 10);\r\n  const { userInfo } = useSelector((state) => state.userLogin);\r\n\r\n\r\n  useEffect(() => {\r\n    if (userInfo && userInfo.isAdmin) {\r\n      dispatch(listUsers());\r\n\r\n\r\n\r\n    } else {\r\n      navigate(\"/login\");\r\n    }\r\n\r\n  }, [dispatch, userInfo, navigate]);\r\n\r\n\r\n\r\n  return (\r\n    <section>\r\n      {/* table for all the users */}\r\n      {/* heading for attendance */}\r\n      <div className=\"row\">\r\n        <div className=\"col-md-12 text-dark\">\r\n          <h3>Mark Attendance</h3> for <h4>{today}</h4>'s meal\r\n        </div>\r\n      </div>\r\n      {loading ? (\r\n        <Loader />\r\n      ) : error ? (\r\n        <Message variant=\"danger\">{error}</Message>\r\n      ) : (\r\n\r\n        <table className=\"table table-bordered\">\r\n          <thead>\r\n            <tr>\r\n              <th scope=\"col\">#</th>\r\n              <th scope=\"col\">Name</th>\r\n              <th scope=\"col\">Room no.</th>\r\n              <th scope=\"col\">First Time</th>\r\n              <th scope=\"col\">Second Time</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {users.map((user) => (\r\n\r\n\r\n\r\n              <tr key={user.id}>\r\n\r\n\r\n                <th scope=\"row\">1</th>\r\n                <td>{user.username}</td>\r\n                <td>{user.room}</td>\r\n\r\n                <td>\r\n\r\n\r\n                  <Button />\r\n\r\n                </td>\r\n                <td>\r\n                  <Button />\r\n\r\n                </td>\r\n              </tr>\r\n            ))}\r\n\r\n          </tbody>\r\n        </table>\r\n\r\n      )}\r\n      {/* bootstrap table which shows total attenandance , absentees doubles and total members  */}\r\n      <div className=\"row\">\r\n        <div className=\"col-md-12 text-dark\">\r\n          <h3>{today}'s totals </h3>\r\n        </div>\r\n      </div>\r\n      <table className=\"table table-bordered\">\r\n        <thead>\r\n          <tr>\r\n            <th scope=\"col\">#</th>\r\n            <th scope=\"col\">Total Members</th>\r\n            <th scope=\"col\">Total Absentees</th>\r\n            <th scope=\"col\">Total Doubles</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr>\r\n            <th scope=\"row\">1</th>\r\n            <td>{users?.length}</td>\r\n            <td>2</td>\r\n            <td>1</td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n\r\n\r\n    </section>\r\n  );\r\n}\r\n\r\n\r\n\r\nexport default MarkAttendance;\r\n"],"mappings":"AACA,MAAOA,OAAP,KAAmB,yBAAnB,CACA,OAASC,SAAT,CAAoBC,UAApB,KAAsC,4BAAtC,CACA,MAAOC,MAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CAEA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,MAAOC,OAAP,KAAmB,yBAAnB,CACA,MAAOC,QAAP,KAAoB,0BAApB,CACA,OAASC,IAAT,CAAeC,WAAf,CAA4BC,WAA5B,KAA+C,kBAA/C,C,wFAMA,QAASC,eAAT,EAA0B,CAExB,GAAMC,SAAQ,CAAGR,WAAW,EAA5B,CACA,GAAMS,SAAQ,CAAGH,WAAW,EAA5B,CAQA,iBAAkCL,WAAW,CAAC,SAACS,KAAD,QAAWA,MAAK,CAACC,QAAjB,EAAD,CAA7C,CAAQC,KAAR,cAAQA,KAAR,CAAeC,OAAf,cAAeA,OAAf,CAAwBC,KAAxB,cAAwBA,KAAxB,CACA,GAAMC,MAAK,CAAG,GAAIC,KAAJ,GAAWC,WAAX,GAAyBC,MAAzB,CAAgC,CAAhC,CAAmC,EAAnC,CAAd,CACA,kBAAqBjB,WAAW,CAAC,SAACS,KAAD,QAAWA,MAAK,CAACS,SAAjB,EAAD,CAAhC,CAAQC,QAAR,eAAQA,QAAR,CAGArB,SAAS,CAAC,UAAM,CACd,GAAIqB,QAAQ,EAAIA,QAAQ,CAACC,OAAzB,CAAkC,CAChCb,QAAQ,CAACb,SAAS,EAAV,CAAR,CAID,CALD,IAKO,CACLc,QAAQ,CAAC,QAAD,CAAR,CACD,CAEF,CAVQ,CAUN,CAACD,QAAD,CAAWY,QAAX,CAAqBX,QAArB,CAVM,CAAT,CAcA,mBACE,wCAGE,YAAK,SAAS,CAAC,KAAf,uBACE,aAAK,SAAS,CAAC,qBAAf,wBACE,uCADF,sBAC+B,oBAAKM,KAAL,EAD/B,aADF,EAHF,CAQGF,OAAO,cACN,KAAC,MAAD,IADM,CAEJC,KAAK,cACP,KAAC,OAAD,EAAS,OAAO,CAAC,QAAjB,UAA2BA,KAA3B,EADO,cAIP,eAAO,SAAS,CAAC,sBAAjB,wBACE,oCACE,mCACE,WAAI,KAAK,CAAC,KAAV,eADF,cAEE,WAAI,KAAK,CAAC,KAAV,kBAFF,cAGE,WAAI,KAAK,CAAC,KAAV,sBAHF,cAIE,WAAI,KAAK,CAAC,KAAV,wBAJF,cAKE,WAAI,KAAK,CAAC,KAAV,yBALF,GADF,EADF,cAUE,uBACGF,KAAK,CAACU,GAAN,CAAU,SAACC,IAAD,qBAIT,mCAGE,WAAI,KAAK,CAAC,KAAV,eAHF,cAIE,oBAAKA,IAAI,CAACC,QAAV,EAJF,cAKE,oBAAKD,IAAI,CAACE,IAAV,EALF,cAOE,iCAGE,KAAC,MAAD,IAHF,EAPF,cAaE,iCACE,KAAC,MAAD,IADF,EAbF,GAASF,IAAI,CAACG,EAAd,CAJS,EAAV,CADH,EAVF,GAdJ,cAsDE,YAAK,SAAS,CAAC,KAAf,uBACE,YAAK,SAAS,CAAC,qBAAf,uBACE,sBAAKX,KAAL,gBADF,EADF,EAtDF,cA2DE,eAAO,SAAS,CAAC,sBAAjB,wBACE,oCACE,mCACE,WAAI,KAAK,CAAC,KAAV,eADF,cAEE,WAAI,KAAK,CAAC,KAAV,2BAFF,cAGE,WAAI,KAAK,CAAC,KAAV,6BAHF,cAIE,WAAI,KAAK,CAAC,KAAV,2BAJF,GADF,EADF,cASE,oCACE,mCACE,WAAI,KAAK,CAAC,KAAV,eADF,cAEE,oBAAKH,KAAL,SAAKA,KAAL,iBAAKA,KAAK,CAAEe,MAAZ,EAFF,cAGE,yBAHF,cAIE,yBAJF,GADF,EATF,GA3DF,GADF,CAkFD,CAID,cAAepB,eAAf"},"metadata":{},"sourceType":"module"}