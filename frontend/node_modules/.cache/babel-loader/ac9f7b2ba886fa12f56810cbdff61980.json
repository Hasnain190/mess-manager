{"ast":null,"code":"import _slicedToArray from\"F:/mess-manager/mess_manager/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect}from\"react\";import{getMessMenu}from\"../../actions/mess_actions\";import Message from\"../../components/Message\";import{useSelector,useDispatch}from\"react-redux\";import\"./ViewMess.css\";import Loader from\"../../components/Loader\";import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ViewMess(){var dispatch=useDispatch();useEffect(function(){dispatch(getMessMenu());},[dispatch,useSelector]);var _useSelector=useSelector(function(state){return state.messMenu;}),messMenu=_useSelector.messMenu,loading=_useSelector.loading,error=_useSelector.error;var saveFile=function saveFile(){saveAs(\"http://127.0.0.1:8000/#/admin/view-mess\",\"Mess Menu.pdf\");};var _useState=useState(false),_useState2=_slicedToArray(_useState,2),editMenu=_useState2[0],setEditMenu=_useState2[1];return/*#__PURE__*/_jsx(\"section\",{id:\"tabs\",class:\"project-tab\",children:/*#__PURE__*/_jsx(\"div\",{class:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"col-md-12\",children:/*#__PURE__*/_jsx(\"button\",{class:\"btn btn-primary\",onClick:saveFile,children:\" Download PDF\"})}),/*#__PURE__*/_jsx(\"div\",{class:\"col-md-12\",children:/*#__PURE__*/_jsx(\"div\",{class:\"tab-content\",id:\"nav-tabContent\",children:/*#__PURE__*/_jsx(\"div\",{class:\"tab-pane fade show active\",id:\"nav-home\",role:\"tabpanel\",\"aria-labelledby\":\"nav-home-tab\",children:loading?/*#__PURE__*/_jsx(Loader,{}):error?/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:error}):/*#__PURE__*/_jsxs(\"table\",{class:\"table\",cellspacing:\"0\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Day\"}),/*#__PURE__*/_jsx(\"th\",{children:\"First Time\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Second Time\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Edit\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:messMenu===null||messMenu===void 0?void 0:messMenu.map(function(menu){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"#\",children:menu.day})}),/*#__PURE__*/_jsx(\"td\",{children:menu.first_time}),/*#__PURE__*/_jsx(\"td\",{children:menu.second_time}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"button\",{class:\"btn btn-primary\",children:/*#__PURE__*/_jsx(Link,{to:\"/admin/update-mess/\".concat(menu.day),children:\"Edit\"})}),\" \"]})]},menu.id);})})]})})})})]})})});}export default ViewMess;","map":{"version":3,"names":["React","useEffect","getMessMenu","Message","useSelector","useDispatch","Loader","Link","ViewMess","dispatch","state","messMenu","loading","error","saveFile","saveAs","useState","editMenu","setEditMenu","map","menu","day","first_time","second_time","id"],"sources":["F:/mess-manager/mess_manager/frontend/src/Screens/admin/ViewMess.js"],"sourcesContent":["import React, { useEffect } from \"react\";\r\n\r\nimport { getMessMenu } from \"../../actions/mess_actions\";\r\n\r\nimport Message from \"../../components/Message\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\n\r\nimport \"./ViewMess.css\";\r\nimport Loader from \"../../components/Loader\";\r\nimport { Link } from \"react-router-dom\";\r\nfunction ViewMess() {\r\n\r\n  const dispatch = useDispatch()\r\n\r\n  useEffect(() => {\r\n    dispatch(getMessMenu());\r\n\r\n\r\n\r\n  }, [dispatch, useSelector]);\r\n\r\n  const { messMenu, loading, error } = useSelector((state) => state.messMenu);\r\n\r\n  const saveFile = () => {\r\n    saveAs(\r\n      \"http://127.0.0.1:8000/#/admin/view-mess\",\r\n      \"Mess Menu.pdf\"\r\n    );\r\n  };\r\n  const [editMenu, setEditMenu] = useState(false)\r\n\r\n\r\n\r\n  return (\r\n    <section id=\"tabs\" class=\"project-tab\">\r\n      <div class=\"container\">\r\n        <div class=\"row\">\r\n          <div class=\"col-md-12\">\r\n\r\n            <button class=\"btn btn-primary\" onClick={saveFile}> Download PDF</button>\r\n\r\n\r\n\r\n          </div>\r\n\r\n          <div class=\"col-md-12\">\r\n            <div class=\"tab-content\" id=\"nav-tabContent\">\r\n              <div\r\n                class=\"tab-pane fade show active\"\r\n                id=\"nav-home\"\r\n                role=\"tabpanel\"\r\n                aria-labelledby=\"nav-home-tab\"\r\n              >\r\n                {loading ? <Loader /> : error ? <Message variant='danger'>{error}</Message>\r\n                  : (\r\n                    <table class=\"table\" cellspacing=\"0\">\r\n                      <thead>\r\n                        <tr>\r\n                          <th>Day</th>\r\n                          <th>First Time</th>\r\n                          <th>Second Time</th>\r\n                          <th>Edit</th>\r\n                        </tr>\r\n                      </thead>\r\n\r\n                      <tbody>\r\n                        {messMenu?.map((menu) => (\r\n\r\n                          <tr key={menu.id}>\r\n                            <td>\r\n                              <a href=\"#\">{menu.day}</a>\r\n                            </td>\r\n                            <td>{menu.first_time}</td>\r\n                            <td>{menu.second_time}</td>\r\n                            <td><button class=\"btn btn-primary\"><Link\r\n                              to={`/admin/update-mess/${menu.day}`}>Edit</Link>\r\n                            </button> </td>\r\n                          </tr>\r\n                        ))}\r\n\r\n\r\n                      </tbody>\r\n                    </table>\r\n                  )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default ViewMess;\r\n"],"mappings":"2HAAA,MAAOA,MAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CAEA,OAASC,WAAT,KAA4B,4BAA5B,CAEA,MAAOC,QAAP,KAAoB,0BAApB,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CAEA,MAAO,gBAAP,CACA,MAAOC,OAAP,KAAmB,yBAAnB,CACA,OAASC,IAAT,KAAqB,kBAArB,C,wFACA,QAASC,SAAT,EAAoB,CAElB,GAAMC,SAAQ,CAAGJ,WAAW,EAA5B,CAEAJ,SAAS,CAAC,UAAM,CACdQ,QAAQ,CAACP,WAAW,EAAZ,CAAR,CAID,CALQ,CAKN,CAACO,QAAD,CAAWL,WAAX,CALM,CAAT,CAOA,iBAAqCA,WAAW,CAAC,SAACM,KAAD,QAAWA,MAAK,CAACC,QAAjB,EAAD,CAAhD,CAAQA,QAAR,cAAQA,QAAR,CAAkBC,OAAlB,cAAkBA,OAAlB,CAA2BC,KAA3B,cAA2BA,KAA3B,CAEA,GAAMC,SAAQ,CAAG,QAAXA,SAAW,EAAM,CACrBC,MAAM,CACJ,yCADI,CAEJ,eAFI,CAAN,CAID,CALD,CAMA,cAAgCC,QAAQ,CAAC,KAAD,CAAxC,wCAAOC,QAAP,eAAiBC,WAAjB,eAIA,mBACE,gBAAS,EAAE,CAAC,MAAZ,CAAmB,KAAK,CAAC,aAAzB,uBACE,YAAK,KAAK,CAAC,WAAX,uBACE,aAAK,KAAK,CAAC,KAAX,wBACE,YAAK,KAAK,CAAC,WAAX,uBAEE,eAAQ,KAAK,CAAC,iBAAd,CAAgC,OAAO,CAAEJ,QAAzC,2BAFF,EADF,cASE,YAAK,KAAK,CAAC,WAAX,uBACE,YAAK,KAAK,CAAC,aAAX,CAAyB,EAAE,CAAC,gBAA5B,uBACE,YACE,KAAK,CAAC,2BADR,CAEE,EAAE,CAAC,UAFL,CAGE,IAAI,CAAC,UAHP,CAIE,kBAAgB,cAJlB,UAMGF,OAAO,cAAG,KAAC,MAAD,IAAH,CAAgBC,KAAK,cAAG,KAAC,OAAD,EAAS,OAAO,CAAC,QAAjB,UAA2BA,KAA3B,EAAH,cAEzB,eAAO,KAAK,CAAC,OAAb,CAAqB,WAAW,CAAC,GAAjC,wBACE,oCACE,mCACE,2BADF,cAEE,kCAFF,cAGE,mCAHF,cAIE,4BAJF,GADF,EADF,cAUE,uBACGF,QADH,SACGA,QADH,iBACGA,QAAQ,CAAEQ,GAAV,CAAc,SAACC,IAAD,qBAEb,mCACE,iCACE,UAAG,IAAI,CAAC,GAAR,UAAaA,IAAI,CAACC,GAAlB,EADF,EADF,cAIE,oBAAKD,IAAI,CAACE,UAAV,EAJF,cAKE,oBAAKF,IAAI,CAACG,WAAV,EALF,cAME,mCAAI,eAAQ,KAAK,CAAC,iBAAd,uBAAgC,KAAC,IAAD,EAClC,EAAE,8BAAwBH,IAAI,CAACC,GAA7B,CADgC,kBAAhC,EAAJ,OANF,GAASD,IAAI,CAACI,EAAd,CAFa,EAAd,CADH,EAVF,GARN,EADF,EADF,EATF,GADF,EADF,EADF,CA0DD,CAED,cAAehB,SAAf"},"metadata":{},"sourceType":"module"}