{"ast":null,"code":"var _jsxFileName = \"F:\\\\mess-manager\\\\mess_manager\\\\frontend\\\\src\\\\Screens\\\\admin\\\\expenses\\\\TodayExpenses.js\",\n    _s = $RefreshSig$();\n\n// for this month bill\nimport React, { useEffect, useState } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { counter } from \"../../../components/counter\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getAttendance } from '../../../actions/attendance_actions';\nimport { addExpenses } from '../../../actions/expenses_actions';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction TodayExpenses() {\n  _s();\n\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  useEffect(() => {\n    dispatch(getAttendance());\n  }, [date, getAttendanceObj, dispatch, addExpenses]);\n  const [todayExpenses, setTodayExpenses] = useState(0);\n  const {\n    attendance: getAttendanceObj,\n    error: getAttendanceError,\n    loading: getAttendanceLoading\n  } = useSelector(state => state.getAttendance);\n  const {\n    success\n  } = useSelector(state => state.addExpenses);\n\n  const submitHandler = e => {\n    e.preventDefault(); // let expenses = {\n    //     date: date,\n    //     total_attendances: count,\n    //     expenses_per_day: todayExpenses,\n    //     expenses_per_capita: expensePerCapita,\n    // }\n\n    try {\n      let expenses = {\n        date: date,\n        total_attendances: count,\n        expenses_per_day: todayExpenses,\n        expenses_per_attendance: expensePerAttendance\n      };\n      console.log(dispatch(addExpenses(expenses)));\n      console.log(todayExpenses);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const today = new Date().toISOString().substr(0, 10);\n  const [date, setDate] = useState(today);\n  const count = counter(getAttendanceObj, date);\n  const expensePerAttendance = (todayExpenses / count).toFixed(2);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"h1 text-center text-dark\",\n      id: \"pageHeaderTitle\",\n      children: [\"Enter \", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"date\",\n        id: \"date\",\n        value: date,\n        onChange: e => setDate(e.target.value),\n        max: today\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 23\n      }, this), \"'s Expenses\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-6 mx-auto\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card card-body\",\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: submitHandler,\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"name\",\n              children: \"Today's Expenses:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              className: \"form-group\",\n              id: \"name\",\n              placeholder: \"Enter value\",\n              value: todayExpenses,\n              onChange: e => setTodayExpenses(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              class: \"list-group list-group-flush\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                class: \"list-group-item  card-header\",\n                children: \"Total Attendances\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                class: \"list-group-item\",\n                children: count\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 85,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                class: \"list-group-item  card-header\",\n                children: \"Expense Per Attendance\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                class: \"list-group-item\",\n                children: expensePerAttendance\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 88,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"btn btn-primary\",\n              children: \"Submit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 9\n  }, this);\n}\n\n_s(TodayExpenses, \"yAvqTHiOyDBALWpZXlVTxy2CLkI=\", false, function () {\n  return [useDispatch, useNavigate, useSelector, useSelector];\n});\n\n_c = TodayExpenses;\nexport default TodayExpenses;\n\nvar _c;\n\n$RefreshReg$(_c, \"TodayExpenses\");","map":{"version":3,"names":["React","useEffect","useState","Link","useNavigate","counter","useDispatch","useSelector","getAttendance","addExpenses","TodayExpenses","dispatch","navigate","date","getAttendanceObj","todayExpenses","setTodayExpenses","attendance","error","getAttendanceError","loading","getAttendanceLoading","state","success","submitHandler","e","preventDefault","expenses","total_attendances","count","expenses_per_day","expenses_per_attendance","expensePerAttendance","console","log","today","Date","toISOString","substr","setDate","toFixed","target","value"],"sources":["F:/mess-manager/mess_manager/frontend/src/Screens/admin/expenses/TodayExpenses.js"],"sourcesContent":["// for this month bill\nimport React, { useEffect, useState } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { counter } from \"../../../components/counter\"\n\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getAttendance } from '../../../actions/attendance_actions'\nimport { addExpenses } from '../../../actions/expenses_actions'\n\nfunction TodayExpenses() {\n    const dispatch = useDispatch()\n    const navigate = useNavigate()\n\n    useEffect(() => {\n        dispatch(getAttendance());\n\n\n    }, [date, getAttendanceObj, dispatch, addExpenses])\n\n    const [todayExpenses, setTodayExpenses] = useState(0)\n    const { attendance: getAttendanceObj, error: getAttendanceError, loading: getAttendanceLoading } = useSelector(state => state.getAttendance)\n\n    const { success } = useSelector(state => state.addExpenses)\n    const submitHandler = (e) => {\n        e.preventDefault();\n\n        // let expenses = {\n\n        //     date: date,\n        //     total_attendances: count,\n        //     expenses_per_day: todayExpenses,\n        //     expenses_per_capita: expensePerCapita,\n\n\n        // }\n        try {\n\n            let expenses = {\n                date: date,\n                total_attendances: count,\n                expenses_per_day: todayExpenses,\n                expenses_per_attendance: expensePerAttendance,\n            }\n            console.log(dispatch(addExpenses(expenses)))\n            console.log(todayExpenses)\n        } catch (error) {\n            console.log(error)\n        }\n\n\n    }\n\n\n\n    const today = new Date().toISOString().substr(0, 10);\n    const [date, setDate] = useState(today)\n    const count = counter(getAttendanceObj, date)\n\n\n    const expensePerAttendance = (todayExpenses / count).toFixed(2);\n    return (\n        <div className=\"container\">\n            <div class=\"h1 text-center text-dark\" id=\"pageHeaderTitle\">\n                Enter <input type=\"date\" id=\"date\" value={date} onChange={(e) => setDate(e.target.value)} max={today} />'s Expenses\n            </div>\n            <div className=\"row\">\n                <div className=\"col-md-6 mx-auto\">\n                    <div className=\"card card-body\">\n\n                        <form onSubmit={submitHandler}>\n\n\n                            <label htmlFor=\"name\">Today's Expenses:</label>\n                            <input\n                                type=\"number\"\n                                className=\"form-group\"\n                                id=\"name\"\n                                placeholder=\"Enter value\"\n                                value={todayExpenses}\n                                onChange={(e) => setTodayExpenses(e.target.value)}\n                            />\n\n                            <ul class=\"list-group list-group-flush\">\n                                <label class=\"list-group-item  card-header\">Total Attendances</label>\n                                <li class=\"list-group-item\">{count}</li>\n\n                                <label class=\"list-group-item  card-header\">Expense Per Attendance</label>\n                                <li class=\"list-group-item\">{expensePerAttendance}</li>\n                            </ul>\n\n                            <button type=\"submit\" className=\"btn btn-primary\">\n                                Submit\n                            </button>\n\n\n\n                        </form>\n\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default TodayExpenses;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}