{"ast":null,"code":"import _asyncToGenerator from\"F:/mess-manager/mess_manager/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"F:\\\\mess-manager\\\\mess_manager\\\\frontend\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import{POST_ATTENDANCE_REQUEST,POST_ATTENDANCE_SUCCESS,POST_ATTENDANCE_FAIL}from'../constants/attendance_constants';import axios from'axios';export var postAttendance=function postAttendance(attenandance){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch,getState){var _getState,userInfo,config,_yield$axios$post,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;dispatch({type:POST_ATTENDANCE_REQUEST});_getState=getState(),userInfo=_getState.userLogin.userInfo;config={headers:{'Content-type':'application/json','Authorization':\"JWT \".concat(userInfo.token)}};_context.next=6;return axios.post(\"/api/attendance/post/\",attenandance,config);case 6:_yield$axios$post=_context.sent;data=_yield$axios$post.data;dispatch({type:POST_ATTENDANCE_SUCCESS,payload:data});_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](0);dispatch({type:POST_ATTENDANCE_FAIL,payload:_context.t0.response&&_context.t0.response.data.detail?_context.t0.response.data.detail:_context.t0.message});case 14:case\"end\":return _context.stop();}}},_callee,null,[[0,11]]);}));return function(_x,_x2){return _ref.apply(this,arguments);};}();};","map":{"version":3,"names":["POST_ATTENDANCE_REQUEST","POST_ATTENDANCE_SUCCESS","POST_ATTENDANCE_FAIL","axios","postAttendance","attenandance","dispatch","getState","type","userInfo","userLogin","config","headers","token","post","data","payload","response","detail","message"],"sources":["F:/mess-manager/mess_manager/frontend/src/actions/attendance_actions.js"],"sourcesContent":["import {\r\n    POST_ATTENDANCE_REQUEST,\r\n    POST_ATTENDANCE_SUCCESS,\r\n    POST_ATTENDANCE_FAIL,\r\n\r\n} from '../constants/attendance_constants'\r\nimport axios from 'axios'\r\n\r\n\r\nexport const postAttendance = (attenandance) => async (dispatch, getState) => {\r\n    try {\r\n        dispatch({ type: POST_ATTENDANCE_REQUEST })\r\n\r\n        const {\r\n            userLogin: { userInfo },\r\n        } = getState()\r\n        const config = {\r\n            headers: {\r\n                'Content-type': 'application/json',\r\n                'Authorization': `JWT ${userInfo.token}`\r\n            }\r\n        }\r\n\r\n        const { data } = await axios.post(`/api/attendance/post/`,\r\n            attenandance,\r\n            config)\r\n        dispatch({ type: POST_ATTENDANCE_SUCCESS, payload: data })\r\n    } catch (error) {\r\n        dispatch({\r\n            type: POST_ATTENDANCE_FAIL,\r\n            payload: error.response && error.response.data.detail\r\n                ? error.response.data.detail\r\n                : error.message,\r\n        })\r\n    }\r\n}"],"mappings":"iQAAA,OACIA,uBADJ,CAEIC,uBAFJ,CAGIC,oBAHJ,KAKO,mCALP,CAMA,MAAOC,MAAP,KAAkB,OAAlB,CAGA,MAAO,IAAMC,eAAc,CAAG,QAAjBA,eAAiB,CAACC,YAAD,iGAAkB,iBAAOC,QAAP,CAAiBC,QAAjB,uLAExCD,QAAQ,CAAC,CAAEE,IAAI,CAAER,uBAAR,CAAD,CAAR,CAFwC,UAMpCO,QAAQ,EAN4B,CAKvBE,QALuB,WAKpCC,SALoC,CAKvBD,QALuB,CAOlCE,MAPkC,CAOzB,CACXC,OAAO,CAAE,CACL,eAAgB,kBADX,CAEL,8BAAwBH,QAAQ,CAACI,KAAjC,CAFK,CADE,CAPyB,uBAcjBV,MAAK,CAACW,IAAN,yBACnBT,YADmB,CAEnBM,MAFmB,CAdiB,wCAchCI,IAdgC,mBAchCA,IAdgC,CAiBxCT,QAAQ,CAAC,CAAEE,IAAI,CAAEP,uBAAR,CAAiCe,OAAO,CAAED,IAA1C,CAAD,CAAR,CAjBwC,iFAmBxCT,QAAQ,CAAC,CACLE,IAAI,CAAEN,oBADD,CAELc,OAAO,CAAE,YAAMC,QAAN,EAAkB,YAAMA,QAAN,CAAeF,IAAf,CAAoBG,MAAtC,CACH,YAAMD,QAAN,CAAeF,IAAf,CAAoBG,MADjB,CAEH,YAAMC,OAJP,CAAD,CAAR,CAnBwC,qEAAlB,oEAAvB"},"metadata":{},"sourceType":"module"}