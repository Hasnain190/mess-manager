{"ast":null,"code":"import _slicedToArray from\"F:/mess-manager/mess_manager/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";// for this month bill\nimport React,{useEffect,useState}from\"react\";import{Link,useNavigate}from\"react-router-dom\";import{counter}from\"../../../components/counter\";import{useDispatch,useSelector}from\"react-redux\";import{getAttendance}from'../../../actions/attendance_actions';import{addExpenses}from'../../../actions/expenses_actions';import Message from\"../../../components/Message\";import Loader from\"../../../components/Loader\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function TodayExpenses(){var dispatch=useDispatch();var navigate=useNavigate();useEffect(function(){dispatch(getAttendance());},[date,getAttendanceObj,errorExpenses]);var _useState=useState(0),_useState2=_slicedToArray(_useState,2),todayExpenses=_useState2[0],setTodayExpenses=_useState2[1];var _useSelector=useSelector(function(state){return state.getAttendance;}),getAttendanceObj=_useSelector.attendance,getAttendanceError=_useSelector.error,getAttendanceLoading=_useSelector.loading;var _useSelector2=useSelector(function(state){return state.addExpenses;}),successExpenses=_useSelector2.success,errorExpenses=_useSelector2.error;var submitHandler=function submitHandler(e){e.preventDefault();var expenses={date:date,total_attendances:count,expenses_per_day:todayExpenses,expenses_per_attendance:expensePerAttendance};dispatch(addExpenses(expenses));console.log(todayExpenses);};var today=new Date().toISOString().substr(0,10);var _useState3=useState(today),_useState4=_slicedToArray(_useState3,2),date=_useState4[0],setDate=_useState4[1];var count=counter(getAttendanceObj,date);var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),message=_useState6[0],setMessage=_useState6[1];var expensePerAttendance=(todayExpenses/count).toFixed(2);return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(Message,{children:message}),/*#__PURE__*/_jsxs(\"div\",{class:\"h1 text-center text-dark\",id:\"pageHeaderTitle\",children:[\"Enter \",/*#__PURE__*/_jsx(\"input\",{type:\"date\",id:\"date\",value:date,onChange:function onChange(e){return setDate(e.target.value);},max:today}),\"'s Expenses\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6 mx-auto\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card card-body\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:submitHandler,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\"Today's Expenses:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"form-group\",id:\"name\",placeholder:\"Enter value\",value:todayExpenses,onChange:function onChange(e){return setTodayExpenses(e.target.value);}}),/*#__PURE__*/_jsxs(\"ul\",{class:\"list-group list-group-flush\",children:[/*#__PURE__*/_jsx(\"label\",{class:\"list-group-item  card-header\",children:\"Total Attendances\"}),/*#__PURE__*/_jsx(\"li\",{class:\"list-group-item\",children:count}),/*#__PURE__*/_jsx(\"label\",{class:\"list-group-item  card-header\",children:\"Expense Per Attendance\"}),/*#__PURE__*/_jsx(\"li\",{class:\"list-group-item\",children:expensePerAttendance})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:\"Submit\"})]})})})})]});}export default TodayExpenses;","map":{"version":3,"names":["React","useEffect","useState","Link","useNavigate","counter","useDispatch","useSelector","getAttendance","addExpenses","Message","Loader","TodayExpenses","dispatch","navigate","date","getAttendanceObj","errorExpenses","todayExpenses","setTodayExpenses","state","attendance","getAttendanceError","error","getAttendanceLoading","loading","successExpenses","success","submitHandler","e","preventDefault","expenses","total_attendances","count","expenses_per_day","expenses_per_attendance","expensePerAttendance","console","log","today","Date","toISOString","substr","setDate","message","setMessage","toFixed","target","value"],"sources":["F:/mess-manager/mess_manager/frontend/src/Screens/admin/expenses/TodayExpenses.js"],"sourcesContent":["// for this month bill\nimport React, { useEffect, useState } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { counter } from \"../../../components/counter\"\n\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getAttendance } from '../../../actions/attendance_actions'\nimport { addExpenses } from '../../../actions/expenses_actions'\nimport Message from \"../../../components/Message\";\nimport Loader from \"../../../components/Loader\";\n\n\nfunction TodayExpenses() {\n    const dispatch = useDispatch()\n    const navigate = useNavigate()\n\n    useEffect(() => {\n        dispatch(getAttendance());\n\n\n    }, [date, getAttendanceObj, errorExpenses])\n\n    const [todayExpenses, setTodayExpenses] = useState(0)\n    const { attendance: getAttendanceObj, error: getAttendanceError, loading: getAttendanceLoading } = useSelector(state => state.getAttendance)\n\n    const { success: successExpenses, error: errorExpenses } = useSelector(state => state.addExpenses)\n    const submitHandler = (e) => {\n        e.preventDefault();\n\n        let expenses = {\n            date: date,\n            total_attendances: count,\n            expenses_per_day: todayExpenses,\n            expenses_per_attendance: expensePerAttendance,\n        }\n        dispatch(addExpenses(expenses))\n\n        console.log(todayExpenses)\n\n\n    }\n\n\n\n    const today = new Date().toISOString().substr(0, 10);\n    const [date, setDate] = useState(today)\n    const count = counter(getAttendanceObj, date)\n    const [message, setMessage] = useState()\n\n    const expensePerAttendance = (todayExpenses / count).toFixed(2);\n    return (\n        <div className=\"container\">\n            <Message >{message}</Message>\n\n            <div class=\"h1 text-center text-dark\" id=\"pageHeaderTitle\">\n                Enter <input type=\"date\" id=\"date\" value={date} onChange={(e) => setDate(e.target.value)} max={today} />'s Expenses\n            </div>\n            <div className=\"row\">\n                <div className=\"col-md-6 mx-auto\">\n                    <div className=\"card card-body\">\n\n                        <form onSubmit={submitHandler}>\n\n\n                            <label htmlFor=\"name\">Today's Expenses:</label>\n                            <input\n                                type=\"number\"\n                                className=\"form-group\"\n                                id=\"name\"\n                                placeholder=\"Enter value\"\n                                value={todayExpenses}\n                                onChange={(e) => setTodayExpenses(e.target.value)}\n                            />\n\n                            <ul class=\"list-group list-group-flush\">\n                                <label class=\"list-group-item  card-header\">Total Attendances</label>\n                                <li class=\"list-group-item\">{count}</li>\n\n                                <label class=\"list-group-item  card-header\">Expense Per Attendance</label>\n                                <li class=\"list-group-item\">{expensePerAttendance}</li>\n                            </ul>\n\n                            <button type=\"submit\" className=\"btn btn-primary\">\n                                Submit\n                            </button>\n\n\n\n                        </form>\n\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default TodayExpenses;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}